@if (ScheduleForEventView?.Event != null)
{
    <MudDialog Style="width:550px; min-width:360px">
        <DialogContent>
            <MudStack AlignItems="AlignItems.Center" Class="mb-3">
                <MudCarousel @ref="Carousel" TData="PhotosForEventsDto" ShowArrows ShowBullets AutoCycle Style="width:300px; height:400px">
                    @if (ScheduleForEventView.Event.Photos != null)
                    {
                        @foreach (var photo in ScheduleForEventView.Event.Photos)
                        {
                            <MudCarouselItem Transition="Transition.Slide">
                                <MudImage Src=@($"/images/EventsPhotos/{photo.EventId}/{photo.Guid}/{EnumImageSize.s450x600}.jpg") Fluid="true" Style="border-radius:2%" />
                            </MudCarouselItem>
                        }
                    }
                </MudCarousel>

                <MudStack Spacing="2" Row Style="width:100%" StretchItems="StretchItems.Start" Justify="Justify.Center" AlignItems="AlignItems.Center">
                    <MudSelect T="SchedulesForEventsDto" Value="selectedSchedule" ValueChanged="ScheduleChangedAsync" Variant="Variant.Outlined" Dense AnchorOrigin="Origin.BottomCenter" Margin="Margin.Dense" Label="Расписание" AdornmentIcon="@Icons.Material.Outlined.CalendarMonth">
                        @foreach (var schedule in schedules) { <MudSelectItem Value="@schedule" /> }
                    </MudSelect>

                    @if (CurrentState.Account != null)
                    {
                        <MudButton Style="height:39px; margin:2px 3px 0 0; padding: 0 20px" Color="Color.Primary" IconSize="Size.Large" Size="Size.Small" StartIcon="@Icons.Material.Outlined.HowToReg" Variant="Variant.Outlined">Регистрация</MudButton>
                    }
                </MudStack>
            </MudStack>

            @* Закладки *@
            <MudTabs Centered ApplyEffectsToContainer PanelClass="mt-6 px-2">
                <MudTabPanel Text="Общее">
                    <Tab_About ScheduleForEventView="@ScheduleForEventView" />
                </MudTabPanel>

                <MudTabPanel Text="Обсуждение" BadgeData="@ScheduleForEventView.NumberOfDiscussions" BadgeColor="Color.Transparent">
                    <Tab_Comments ScheduleForEventView="@ScheduleForEventView" />
                </MudTabPanel>

                <MudTabPanel Text="Участники" Disabled="@(ScheduleForEventView.RegisteredAccounts == null)" BadgeData="@ScheduleForEventView.RegisteredAccounts?.Count()" BadgeColor="Color.Transparent">
                    <Tab_Accounts ScheduleForEventView="@ScheduleForEventView" />
                </MudTabPanel>
            </MudTabs>

        </DialogContent>

        <DialogActions>
            <MudButton Color="Color.Primary" OnClick="() => MudDialog.Close(DialogResult.Ok(true))">Закрыть</MudButton>
        </DialogActions>
    </MudDialog>
}
