<MudDialog>
    <TitleContent>@Title</TitleContent>

    <DialogContent>
        <MudGrid>
            <MudItem xs="12">
                <MudTextField @bind-Value="User.Name"
                              HelperText="Пример: Марина"
                              AdornmentIcon="@Icons.Material.Outlined.Person"
                              AdornmentColor="@NameIconColor"
                              Adornment="Adornment.End"
                              Label="Имя партнёра"
                              Typo="Typo.body1"
                              Variant="Variant.Text"
                              MaxLength="StaticData.DB_USERS_NAME_MAX" />
            </MudItem>

            <MudItem sm="6" xs="12">
                <MudRadioGroup @bind-Value="User.Gender">
                    <MudRadio Value="0" Color="Color.Info">Муж.</MudRadio>
                    <MudRadio Value="1" Color="Color.Secondary">Жен.</MudRadio>
                </MudRadioGroup>
            </MudItem>

            <MudItem sm="6" xs="12">
                <MudDatePicker Label="Дата рождения" @bind-Date="birthDate" HelperText="От 20 до 75 лет" ShowToolbar="false" />
            </MudItem>

            <MudItem sm="6" xs="12">
                <MudNumericField @bind-Value="User.Height" Label="Рост" HelperText="@($"От {StaticData.DB_USERS_HEIGHT_MIN} до {StaticData.DB_USERS_HEIGHT_MAX} см")" Variant="Variant.Text" />
            </MudItem>

            <MudItem sm="6" xs="12">
                <MudNumericField @bind-Value="User.Weight" Label="Вес" HelperText="@($"От {StaticData.DB_USERS_WEIGHT_MIN} до {StaticData.DB_USERS_WEIGHT_MAX} кг")" Variant="Variant.Text" />
            </MudItem>

        </MudGrid>
    </DialogContent>

    <DialogActions>
        <MudButton Color="Color.Error" StartIcon="@Icons.Material.Outlined.Close" OnClick="Cancel">Отмена</MudButton>
        <MudButton Color="Color.Info" Variant="Variant.Filled" StartIcon="@Icons.Material.Outlined.Check" Size="Size.Small" OnClick="Submit">Добавить</MudButton>
    </DialogActions>
</MudDialog>


@code {
    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; } = null!;

    [Parameter]
    public UsersDto User { get; set; } = new UsersDto();

    [Parameter]
    public string Title { get; set; } = null!;

    Color NameIconColor = Color.Default;
    DateTime? birthDate { get; set; }

    void Submit() => MudDialog.Close(DialogResult.Ok(User));
    void Cancel() => MudDialog.Cancel();
}
